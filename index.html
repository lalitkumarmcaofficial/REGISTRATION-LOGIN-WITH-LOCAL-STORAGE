<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Page-Login</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  
  <div class="container">
    <h2>Login</h2>
    <form id="loginForm">
      <label for="my_username">Username (Email or Mobile)</label>
      <input type="text" id="my_username" required>
      
      <label for="my_password">Password</label>
      <input type="password" id="my_password" required>
      
      <button type="submit">Login</button>
    </form>
    <p id="login_output"></p>
    <p>Not registered? <a href="register.html">Register here</a></p>
    <p><a href="forgot.html">Forgot Password</a></p>

  </div>

  <script>



document.getElementById("loginForm").addEventListener("submit", function(e) {
    e.preventDefault();
  
    var myUsername = document.getElementById("my_username").value;  //* Username (email or mobile)
    var myPassword = document.getElementById("my_password").value;  //* Password
  
    //* Retrieve user data from localStorage
    const storedUserData = JSON.parse(localStorage.getItem("userData"));
  
    //* Check if user data exists in localStorage
    if (storedUserData) {
      //* Validate username (email or mobile) and password
      if ((myUsername === storedUserData.email || myUsername === storedUserData.mobile) && myPassword === storedUserData.confirmPassword) {
        document.getElementById("login_output").innerHTML = `${storedUserData.name} LOGIN SUCCESSFUL`;
        console.log(`${storedUserData.name} LOGIN SUCCESSFUL`);
        window.location.href="profile.html"
      
      } else {
        document.getElementById("login_output").innerHTML = "INVALID DETAILS";
        document.getElementById("login_output").style.color = "red"
        console.log("INVALID DETAILS");
      }
    } else {
      document.getElementById("login_output").innerHTML = "No user data found. Please register first.";
      console.log("No user data found. Please register first.");
    }
  });
  


  </script>
</body>
</html>
